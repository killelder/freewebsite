# 本地檔案自動儲存功能使用指南

## 🎯 功能概述

現在您可以選擇一個本地資料夾，當您在部落格管理後台撰寫文章時，系統會自動將文章儲存為 `.md` 檔案到該資料夾中！

## 🌟 支援的瀏覽器

- ✅ **Chrome 86+**
- ✅ **Microsoft Edge 86+**
- ❌ Firefox（暫不支援）
- ❌ Safari（暫不支援）

## 📁 使用步驟

### 第一次設定

1. **前往管理後台**
   - 訪問 `/admin` 頁面

2. **選擇本地資料夾**
   - 點擊「選擇資料夾」按鈕
   - 瀏覽器會開啟資料夾選擇對話框
   - 選擇您想要儲存文章的資料夾（例如：`Documents/MyBlog/posts`）

3. **確認設定**
   - 選擇成功後會顯示「✅ 已選擇本地資料夾」
   - 此設定會被記住，下次使用時不需要重新選擇

### 撰寫和儲存文章

1. **新增文章**
   - 點擊「新增文章」按鈕
   - 填寫標題、slug、摘要和內容

2. **自動儲存**
   - 點擊「儲存文章」
   - 文章會自動儲存到您選擇的本地資料夾
   - 檔案格式：`YYYY-MM-DD-slug.md`

3. **檔案內容**
   ```markdown
   ---
   title: "您的文章標題"
   date: 2025-07-01
   excerpt: "文章摘要"
   ---
   
   # 文章內容
   
   您的 Markdown 內容...
   ```

### 從本地檔案載入

1. **載入現有文章**
   - 如果您的資料夾中已有 `.md` 檔案
   - 點擊「從本地載入」按鈕
   - 系統會讀取所有文章並顯示在部落格中

## 🔄 工作流程範例

### 本地開發 + Git 版本控制

```bash
# 1. 選擇專案中的 posts 資料夾作為儲存位置
# 路徑例如：/Users/yourname/projects/myblog/posts

# 2. 在網頁介面撰寫文章，會自動儲存到該資料夾

# 3. 將新文章加入 Git
git add posts/2025-07-01-my-new-post.md
git commit -m "新增文章: My New Post"
git push

# 4. 自動部署到 GitHub Pages
```

### 純本地使用

```bash
# 選擇任意資料夾，例如：
# /Users/yourname/Documents/BlogPosts

# 所有文章會儲存在該位置，可以：
# - 用其他 Markdown 編輯器編輯
# - 備份到雲端
# - 版本控制
# - 匯出到其他平台
```

## 🛠️ 管理功能

### 資料夾設定

- **重新選擇資料夾**: 點擊「重新選擇資料夾」
- **檢查狀態**: 頁面會顯示目前是否已選擇資料夾

### 備用方案

如果您的瀏覽器不支援檔案系統 API：
- 系統會自動回到下載模式
- 點擊「儲存文章」時會下載 `.md` 檔案
- 您需要手動將檔案移動到想要的位置

## 🔧 故障排除

### 無法選擇資料夾

1. **檢查瀏覽器版本**
   - Chrome 需要 86+ 版本
   - Edge 需要 86+ 版本

2. **檢查瀏覽器設定**
   - 確保沒有禁用檔案系統 API
   - 嘗試重新整理頁面

### 文章沒有自動儲存

1. **檢查資料夾權限**
   - 確保選擇的資料夾有寫入權限

2. **重新選擇資料夾**
   - 點擊「重新選擇資料夾」
   - 選擇不同的資料夾

### 無法讀取本地檔案

1. **檢查檔案格式**
   - 確保檔案是 `.md` 格式
   - 檢查 Front Matter 格式是否正確

2. **重新載入**
   - 點擊「從本地載入」按鈕
   - 重新整理頁面

## 🎨 進階用法

### 多資料夾管理

您可以為不同類型的文章選擇不同資料夾：
- 技術文章：`/Documents/TechBlog/posts`
- 生活隨筆：`/Documents/LifeBlog/posts`
- 專案記錄：`/Documents/ProjectBlog/posts`

### 與其他工具整合

由於文章儲存為標準的 Markdown 格式，您可以：
- 使用 **Obsidian** 管理文章
- 用 **Typora** 編輯文章
- 透過 **Git** 版本控制
- 匯出到 **Hugo**、**Jekyll** 等靜態網站生成器

### 自動備份

建議將文章資料夾設定在雲端同步資料夾中：
- **iCloud Drive**：`~/Library/Mobile Documents/com~apple~CloudDocs/BlogPosts`
- **Google Drive**：`~/Google Drive/BlogPosts`
- **Dropbox**：`~/Dropbox/BlogPosts`

## 📱 行動裝置注意事項

- 檔案系統 API 目前主要支援桌面瀏覽器
- 行動裝置建議使用下載功能
- 可以在桌面電腦設定檔案夾，在手機上瀏覽部落格

---

這個功能讓您的部落格系統既有現代化的網頁介面，又能與本地檔案系統無縫整合，是最佳的寫作體驗！